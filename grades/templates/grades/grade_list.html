{% extends "base.html" %}
{% block title %}Prelim Calculator{% endblock %}

{% block content %}
<h1>Prelim Calculator</h1>

<form method="post">
  {% csrf_token %}
  <table>
    {{ form.as_table }}
  </table>
  <button type="submit">Compute</button>
</form>

{% if prelim is not None %}
  <hr>
  <h2>Results</h2>
  <p><strong>Attendance Score:</strong> {{ att|floatformat:2 }}</p>
  <p><strong>Class Standing:</strong> {{ cs|floatformat:2 }}</p>
  <p><strong>Prelim Grade:</strong> {{ prelim|floatformat:2 }}</p>

  <h3>Targets</h3>
  <p>
    To reach <strong>75%</strong> overall:
    Midterm = {{ need_75|floatformat:2 }}, Final = {{ need_75|floatformat:2 }}
    {% if not possible_75 %}<em>(Not possible within 0–100)</em>{% endif %}
  </p>
  <p>
    To reach <strong>90%</strong> overall:
    Midterm = {{ need_90|floatformat:2 }}, Final = {{ need_90|floatformat:2 }}
    {% if not possible_90 %}<em>(Not possible within 0–100)</em>{% endif %}
  </p>
{% endif %}
{% endblock %}
